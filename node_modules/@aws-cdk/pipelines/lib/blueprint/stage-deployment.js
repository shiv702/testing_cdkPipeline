"use strict";
var _a;
Object.defineProperty(exports, "__esModule", { value: true });
exports.StageDeployment = void 0;
const jsiiDeprecationWarnings = require("../../.warnings.jsii.js");
const JSII_RTTI_SYMBOL_1 = Symbol.for("jsii.rtti");
const cloud_assembly_internals_1 = require("../private/cloud-assembly-internals");
const construct_internals_1 = require("../private/construct-internals");
const stack_deployment_1 = require("./stack-deployment");
/**
 * Deployment of a single `Stage`
 *
 * A `Stage` consists of one or more `Stacks`, which will be
 * deployed in dependency order.
 */
class StageDeployment {
    constructor(
    /** The stacks deployed in this stage */
    stacks, props = {}) {
        this.stacks = stacks;
        this.stageName = props.stageName ?? '';
        this.pre = props.pre ?? [];
        this.post = props.post ?? [];
        this.stackSteps = props.stackSteps ?? [];
    }
    /**
     * Create a new `StageDeployment` from a `Stage`
     *
     * Synthesizes the target stage, and deployes the stacks found inside
     * in dependency order.
     */
    static fromStage(stage, props = {}) {
        try {
            jsiiDeprecationWarnings._aws_cdk_pipelines_StageDeploymentProps(props);
        }
        catch (error) {
            if (process.env.JSII_DEBUG !== "1" && error.name === "DeprecationError") {
                Error.captureStackTrace(error, this.fromStage);
            }
            throw error;
        }
        const assembly = construct_internals_1.pipelineSynth(stage);
        if (assembly.stacks.length === 0) {
            // If we don't check here, a more puzzling "stage contains no actions"
            // error will be thrown come deployment time.
            throw new Error(`The given Stage construct ('${stage.node.path}') should contain at least one Stack`);
        }
        const stepFromArtifact = new Map();
        for (const artifact of assembly.stacks) {
            const step = stack_deployment_1.StackDeployment.fromArtifact(artifact);
            stepFromArtifact.set(artifact, step);
        }
        if (props.stackSteps) {
            for (const stackstep of props.stackSteps) {
                const stackArtifact = assembly.getStackArtifact(stackstep.stack.artifactId);
                const thisStep = stepFromArtifact.get(stackArtifact);
                if (!thisStep) {
                    throw new Error('Logic error: we just added a step for this artifact but it disappeared.');
                }
                thisStep.addStackSteps(stackstep.pre ?? [], stackstep.changeSet ?? [], stackstep.post ?? []);
            }
        }
        for (const artifact of assembly.stacks) {
            const thisStep = stepFromArtifact.get(artifact);
            if (!thisStep) {
                throw new Error('Logic error: we just added a step for this artifact but it disappeared.');
            }
            const stackDependencies = artifact.dependencies.filter(cloud_assembly_internals_1.isStackArtifact);
            for (const dep of stackDependencies) {
                const depStep = stepFromArtifact.get(dep);
                if (!depStep) {
                    throw new Error(`Stack '${artifact.id}' depends on stack not found in same Stage: '${dep.id}'`);
                }
                thisStep.addStackDependency(depStep);
            }
        }
        return new StageDeployment(Array.from(stepFromArtifact.values()), {
            stageName: stage.stageName,
            ...props,
        });
    }
    /**
     * Add an additional step to run before any of the stacks in this stage
     */
    addPre(...steps) {
        try {
            jsiiDeprecationWarnings._aws_cdk_pipelines_Step(steps);
        }
        catch (error) {
            if (process.env.JSII_DEBUG !== "1" && error.name === "DeprecationError") {
                Error.captureStackTrace(error, this.addPre);
            }
            throw error;
        }
        this.pre.push(...steps);
    }
    /**
     * Add an additional step to run after all of the stacks in this stage
     */
    addPost(...steps) {
        try {
            jsiiDeprecationWarnings._aws_cdk_pipelines_Step(steps);
        }
        catch (error) {
            if (process.env.JSII_DEBUG !== "1" && error.name === "DeprecationError") {
                Error.captureStackTrace(error, this.addPost);
            }
            throw error;
        }
        this.post.push(...steps);
    }
}
exports.StageDeployment = StageDeployment;
_a = JSII_RTTI_SYMBOL_1;
StageDeployment[_a] = { fqn: "@aws-cdk/pipelines.StageDeployment", version: "1.204.0" };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3RhZ2UtZGVwbG95bWVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbInN0YWdlLWRlcGxveW1lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBRUEsa0ZBQXNFO0FBQ3RFLHdFQUErRDtBQUMvRCx5REFBcUQ7QUFvQ3JEOzs7OztHQUtHO0FBQ0gsTUFBYSxlQUFlO0lBeUUxQjtJQUNFLHdDQUF3QztJQUN4QixNQUF5QixFQUFFLFFBQThCLEVBQUU7UUFBM0QsV0FBTSxHQUFOLE1BQU0sQ0FBbUI7UUFDekMsSUFBSSxDQUFDLFNBQVMsR0FBRyxLQUFLLENBQUMsU0FBUyxJQUFJLEVBQUUsQ0FBQztRQUN2QyxJQUFJLENBQUMsR0FBRyxHQUFHLEtBQUssQ0FBQyxHQUFHLElBQUksRUFBRSxDQUFDO1FBQzNCLElBQUksQ0FBQyxJQUFJLEdBQUcsS0FBSyxDQUFDLElBQUksSUFBSSxFQUFFLENBQUM7UUFDN0IsSUFBSSxDQUFDLFVBQVUsR0FBRyxLQUFLLENBQUMsVUFBVSxJQUFJLEVBQUUsQ0FBQztLQUMxQztJQS9FRDs7Ozs7T0FLRztJQUNJLE1BQU0sQ0FBQyxTQUFTLENBQUMsS0FBZ0IsRUFBRSxRQUE4QixFQUFFOzs7Ozs7Ozs7O1FBQ3hFLE1BQU0sUUFBUSxHQUFHLG1DQUFhLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDdEMsSUFBSSxRQUFRLENBQUMsTUFBTSxDQUFDLE1BQU0sS0FBSyxDQUFDLEVBQUU7WUFDaEMsc0VBQXNFO1lBQ3RFLDZDQUE2QztZQUM3QyxNQUFNLElBQUksS0FBSyxDQUFDLCtCQUErQixLQUFLLENBQUMsSUFBSSxDQUFDLElBQUksc0NBQXNDLENBQUMsQ0FBQztTQUN2RztRQUVELE1BQU0sZ0JBQWdCLEdBQUcsSUFBSSxHQUFHLEVBQWdELENBQUM7UUFDakYsS0FBSyxNQUFNLFFBQVEsSUFBSSxRQUFRLENBQUMsTUFBTSxFQUFFO1lBQ3RDLE1BQU0sSUFBSSxHQUFHLGtDQUFlLENBQUMsWUFBWSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1lBQ3BELGdCQUFnQixDQUFDLEdBQUcsQ0FBQyxRQUFRLEVBQUUsSUFBSSxDQUFDLENBQUM7U0FDdEM7UUFDRCxJQUFJLEtBQUssQ0FBQyxVQUFVLEVBQUU7WUFDcEIsS0FBSyxNQUFNLFNBQVMsSUFBSSxLQUFLLENBQUMsVUFBVSxFQUFFO2dCQUN4QyxNQUFNLGFBQWEsR0FBRyxRQUFRLENBQUMsZ0JBQWdCLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxVQUFVLENBQUMsQ0FBQztnQkFDNUUsTUFBTSxRQUFRLEdBQUcsZ0JBQWdCLENBQUMsR0FBRyxDQUFDLGFBQWEsQ0FBQyxDQUFDO2dCQUNyRCxJQUFJLENBQUMsUUFBUSxFQUFFO29CQUNiLE1BQU0sSUFBSSxLQUFLLENBQUMseUVBQXlFLENBQUMsQ0FBQztpQkFDNUY7Z0JBQ0QsUUFBUSxDQUFDLGFBQWEsQ0FBQyxTQUFTLENBQUMsR0FBRyxJQUFJLEVBQUUsRUFBRSxTQUFTLENBQUMsU0FBUyxJQUFJLEVBQUUsRUFBRSxTQUFTLENBQUMsSUFBSSxJQUFJLEVBQUUsQ0FBQyxDQUFDO2FBQzlGO1NBQ0Y7UUFFRCxLQUFLLE1BQU0sUUFBUSxJQUFJLFFBQVEsQ0FBQyxNQUFNLEVBQUU7WUFDdEMsTUFBTSxRQUFRLEdBQUcsZ0JBQWdCLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxDQUFDO1lBQ2hELElBQUksQ0FBQyxRQUFRLEVBQUU7Z0JBQ2IsTUFBTSxJQUFJLEtBQUssQ0FBQyx5RUFBeUUsQ0FBQyxDQUFDO2FBQzVGO1lBRUQsTUFBTSxpQkFBaUIsR0FBRyxRQUFRLENBQUMsWUFBWSxDQUFDLE1BQU0sQ0FBQywwQ0FBZSxDQUFDLENBQUM7WUFDeEUsS0FBSyxNQUFNLEdBQUcsSUFBSSxpQkFBaUIsRUFBRTtnQkFDbkMsTUFBTSxPQUFPLEdBQUcsZ0JBQWdCLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO2dCQUMxQyxJQUFJLENBQUMsT0FBTyxFQUFFO29CQUNaLE1BQU0sSUFBSSxLQUFLLENBQUMsVUFBVSxRQUFRLENBQUMsRUFBRSxnREFBZ0QsR0FBRyxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUM7aUJBQ2pHO2dCQUNELFFBQVEsQ0FBQyxrQkFBa0IsQ0FBQyxPQUFPLENBQUMsQ0FBQzthQUN0QztTQUNGO1FBRUQsT0FBTyxJQUFJLGVBQWUsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLGdCQUFnQixDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUU7WUFDaEUsU0FBUyxFQUFFLEtBQUssQ0FBQyxTQUFTO1lBQzFCLEdBQUcsS0FBSztTQUNULENBQUMsQ0FBQztLQUNKO0lBK0JEOztPQUVHO0lBQ0ksTUFBTSxDQUFDLEdBQUcsS0FBYTs7Ozs7Ozs7OztRQUM1QixJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLEtBQUssQ0FBQyxDQUFDO0tBQ3pCO0lBRUQ7O09BRUc7SUFDSSxPQUFPLENBQUMsR0FBRyxLQUFhOzs7Ozs7Ozs7O1FBQzdCLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsS0FBSyxDQUFDLENBQUM7S0FDMUI7O0FBOUZILDBDQStGQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIGNkayBmcm9tICdAYXdzLWNkay9jb3JlJztcbmltcG9ydCB7IENsb3VkRm9ybWF0aW9uU3RhY2tBcnRpZmFjdCB9IGZyb20gJ0Bhd3MtY2RrL2N4LWFwaSc7XG5pbXBvcnQgeyBpc1N0YWNrQXJ0aWZhY3QgfSBmcm9tICcuLi9wcml2YXRlL2Nsb3VkLWFzc2VtYmx5LWludGVybmFscyc7XG5pbXBvcnQgeyBwaXBlbGluZVN5bnRoIH0gZnJvbSAnLi4vcHJpdmF0ZS9jb25zdHJ1Y3QtaW50ZXJuYWxzJztcbmltcG9ydCB7IFN0YWNrRGVwbG95bWVudCB9IGZyb20gJy4vc3RhY2stZGVwbG95bWVudCc7XG5pbXBvcnQgeyBTdGFja1N0ZXBzLCBTdGVwIH0gZnJvbSAnLi9zdGVwJztcblxuLyoqXG4gKiBQcm9wZXJ0aWVzIGZvciBhIGBTdGFnZURlcGxveW1lbnRgXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU3RhZ2VEZXBsb3ltZW50UHJvcHMge1xuICAvKipcbiAgICogU3RhZ2UgbmFtZSB0byB1c2UgaW4gdGhlIHBpcGVsaW5lXG4gICAqXG4gICAqIEBkZWZhdWx0IC0gVXNlIFN0YWdlJ3MgY29uc3RydWN0IElEXG4gICAqL1xuICByZWFkb25seSBzdGFnZU5hbWU/OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIEFkZGl0aW9uYWwgc3RlcHMgdG8gcnVuIGJlZm9yZSBhbnkgb2YgdGhlIHN0YWNrcyBpbiB0aGUgc3RhZ2VcbiAgICpcbiAgICogQGRlZmF1bHQgLSBObyBhZGRpdGlvbmFsIHN0ZXBzXG4gICAqL1xuICByZWFkb25seSBwcmU/OiBTdGVwW107XG5cbiAgLyoqXG4gICAqIEFkZGl0aW9uYWwgc3RlcHMgdG8gcnVuIGFmdGVyIGFsbCBvZiB0aGUgc3RhY2tzIGluIHRoZSBzdGFnZVxuICAgKlxuICAgKiBAZGVmYXVsdCAtIE5vIGFkZGl0aW9uYWwgc3RlcHNcbiAgICovXG4gIHJlYWRvbmx5IHBvc3Q/OiBTdGVwW107XG5cbiAgLyoqXG4gICAqIEluc3RydWN0aW9ucyBmb3IgYWRkaXRpb25hbCBzdGVwcyB0aGF0IGFyZSBydW4gYXQgdGhlIHN0YWNrIGxldmVsXG4gICAqXG4gICAqIEBkZWZhdWx0IC0gTm8gYWRkaXRpb25hbCBpbnN0cnVjdGlvbnNcbiAgICovXG4gIHJlYWRvbmx5IHN0YWNrU3RlcHM/OiBTdGFja1N0ZXBzW107XG59XG5cbi8qKlxuICogRGVwbG95bWVudCBvZiBhIHNpbmdsZSBgU3RhZ2VgXG4gKlxuICogQSBgU3RhZ2VgIGNvbnNpc3RzIG9mIG9uZSBvciBtb3JlIGBTdGFja3NgLCB3aGljaCB3aWxsIGJlXG4gKiBkZXBsb3llZCBpbiBkZXBlbmRlbmN5IG9yZGVyLlxuICovXG5leHBvcnQgY2xhc3MgU3RhZ2VEZXBsb3ltZW50IHtcbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyBgU3RhZ2VEZXBsb3ltZW50YCBmcm9tIGEgYFN0YWdlYFxuICAgKlxuICAgKiBTeW50aGVzaXplcyB0aGUgdGFyZ2V0IHN0YWdlLCBhbmQgZGVwbG95ZXMgdGhlIHN0YWNrcyBmb3VuZCBpbnNpZGVcbiAgICogaW4gZGVwZW5kZW5jeSBvcmRlci5cbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgZnJvbVN0YWdlKHN0YWdlOiBjZGsuU3RhZ2UsIHByb3BzOiBTdGFnZURlcGxveW1lbnRQcm9wcyA9IHt9KSB7XG4gICAgY29uc3QgYXNzZW1ibHkgPSBwaXBlbGluZVN5bnRoKHN0YWdlKTtcbiAgICBpZiAoYXNzZW1ibHkuc3RhY2tzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgLy8gSWYgd2UgZG9uJ3QgY2hlY2sgaGVyZSwgYSBtb3JlIHB1enpsaW5nIFwic3RhZ2UgY29udGFpbnMgbm8gYWN0aW9uc1wiXG4gICAgICAvLyBlcnJvciB3aWxsIGJlIHRocm93biBjb21lIGRlcGxveW1lbnQgdGltZS5cbiAgICAgIHRocm93IG5ldyBFcnJvcihgVGhlIGdpdmVuIFN0YWdlIGNvbnN0cnVjdCAoJyR7c3RhZ2Uubm9kZS5wYXRofScpIHNob3VsZCBjb250YWluIGF0IGxlYXN0IG9uZSBTdGFja2ApO1xuICAgIH1cblxuICAgIGNvbnN0IHN0ZXBGcm9tQXJ0aWZhY3QgPSBuZXcgTWFwPENsb3VkRm9ybWF0aW9uU3RhY2tBcnRpZmFjdCwgU3RhY2tEZXBsb3ltZW50PigpO1xuICAgIGZvciAoY29uc3QgYXJ0aWZhY3Qgb2YgYXNzZW1ibHkuc3RhY2tzKSB7XG4gICAgICBjb25zdCBzdGVwID0gU3RhY2tEZXBsb3ltZW50LmZyb21BcnRpZmFjdChhcnRpZmFjdCk7XG4gICAgICBzdGVwRnJvbUFydGlmYWN0LnNldChhcnRpZmFjdCwgc3RlcCk7XG4gICAgfVxuICAgIGlmIChwcm9wcy5zdGFja1N0ZXBzKSB7XG4gICAgICBmb3IgKGNvbnN0IHN0YWNrc3RlcCBvZiBwcm9wcy5zdGFja1N0ZXBzKSB7XG4gICAgICAgIGNvbnN0IHN0YWNrQXJ0aWZhY3QgPSBhc3NlbWJseS5nZXRTdGFja0FydGlmYWN0KHN0YWNrc3RlcC5zdGFjay5hcnRpZmFjdElkKTtcbiAgICAgICAgY29uc3QgdGhpc1N0ZXAgPSBzdGVwRnJvbUFydGlmYWN0LmdldChzdGFja0FydGlmYWN0KTtcbiAgICAgICAgaWYgKCF0aGlzU3RlcCkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTG9naWMgZXJyb3I6IHdlIGp1c3QgYWRkZWQgYSBzdGVwIGZvciB0aGlzIGFydGlmYWN0IGJ1dCBpdCBkaXNhcHBlYXJlZC4nKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzU3RlcC5hZGRTdGFja1N0ZXBzKHN0YWNrc3RlcC5wcmUgPz8gW10sIHN0YWNrc3RlcC5jaGFuZ2VTZXQgPz8gW10sIHN0YWNrc3RlcC5wb3N0ID8/IFtdKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmb3IgKGNvbnN0IGFydGlmYWN0IG9mIGFzc2VtYmx5LnN0YWNrcykge1xuICAgICAgY29uc3QgdGhpc1N0ZXAgPSBzdGVwRnJvbUFydGlmYWN0LmdldChhcnRpZmFjdCk7XG4gICAgICBpZiAoIXRoaXNTdGVwKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTG9naWMgZXJyb3I6IHdlIGp1c3QgYWRkZWQgYSBzdGVwIGZvciB0aGlzIGFydGlmYWN0IGJ1dCBpdCBkaXNhcHBlYXJlZC4nKTtcbiAgICAgIH1cblxuICAgICAgY29uc3Qgc3RhY2tEZXBlbmRlbmNpZXMgPSBhcnRpZmFjdC5kZXBlbmRlbmNpZXMuZmlsdGVyKGlzU3RhY2tBcnRpZmFjdCk7XG4gICAgICBmb3IgKGNvbnN0IGRlcCBvZiBzdGFja0RlcGVuZGVuY2llcykge1xuICAgICAgICBjb25zdCBkZXBTdGVwID0gc3RlcEZyb21BcnRpZmFjdC5nZXQoZGVwKTtcbiAgICAgICAgaWYgKCFkZXBTdGVwKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBTdGFjayAnJHthcnRpZmFjdC5pZH0nIGRlcGVuZHMgb24gc3RhY2sgbm90IGZvdW5kIGluIHNhbWUgU3RhZ2U6ICcke2RlcC5pZH0nYCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpc1N0ZXAuYWRkU3RhY2tEZXBlbmRlbmN5KGRlcFN0ZXApO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBuZXcgU3RhZ2VEZXBsb3ltZW50KEFycmF5LmZyb20oc3RlcEZyb21BcnRpZmFjdC52YWx1ZXMoKSksIHtcbiAgICAgIHN0YWdlTmFtZTogc3RhZ2Uuc3RhZ2VOYW1lLFxuICAgICAgLi4ucHJvcHMsXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGRpc3BsYXkgbmFtZSBvZiB0aGlzIHN0YWdlXG4gICAqL1xuICBwdWJsaWMgcmVhZG9ubHkgc3RhZ2VOYW1lOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIEFkZGl0aW9uYWwgc3RlcHMgdGhhdCBhcmUgcnVuIGJlZm9yZSBhbnkgb2YgdGhlIHN0YWNrcyBpbiB0aGUgc3RhZ2VcbiAgICovXG4gIHB1YmxpYyByZWFkb25seSBwcmU6IFN0ZXBbXTtcblxuICAvKipcbiAgICogQWRkaXRpb25hbCBzdGVwcyB0aGF0IGFyZSBydW4gYWZ0ZXIgYWxsIG9mIHRoZSBzdGFja3MgaW4gdGhlIHN0YWdlXG4gICAqL1xuICBwdWJsaWMgcmVhZG9ubHkgcG9zdDogU3RlcFtdO1xuXG4gIC8qKlxuICAgKiBJbnN0cnVjdGlvbnMgZm9yIGFkZGl0aW9uYWwgc3RlcHMgdGhhdCBhcmUgcnVuIGF0IHN0YWNrIGxldmVsXG4gICAqL1xuICBwdWJsaWMgcmVhZG9ubHkgc3RhY2tTdGVwczogU3RhY2tTdGVwc1tdO1xuXG4gIHByaXZhdGUgY29uc3RydWN0b3IoXG4gICAgLyoqIFRoZSBzdGFja3MgZGVwbG95ZWQgaW4gdGhpcyBzdGFnZSAqL1xuICAgIHB1YmxpYyByZWFkb25seSBzdGFja3M6IFN0YWNrRGVwbG95bWVudFtdLCBwcm9wczogU3RhZ2VEZXBsb3ltZW50UHJvcHMgPSB7fSkge1xuICAgIHRoaXMuc3RhZ2VOYW1lID0gcHJvcHMuc3RhZ2VOYW1lID8/ICcnO1xuICAgIHRoaXMucHJlID0gcHJvcHMucHJlID8/IFtdO1xuICAgIHRoaXMucG9zdCA9IHByb3BzLnBvc3QgPz8gW107XG4gICAgdGhpcy5zdGFja1N0ZXBzID0gcHJvcHMuc3RhY2tTdGVwcyA/PyBbXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGQgYW4gYWRkaXRpb25hbCBzdGVwIHRvIHJ1biBiZWZvcmUgYW55IG9mIHRoZSBzdGFja3MgaW4gdGhpcyBzdGFnZVxuICAgKi9cbiAgcHVibGljIGFkZFByZSguLi5zdGVwczogU3RlcFtdKSB7XG4gICAgdGhpcy5wcmUucHVzaCguLi5zdGVwcyk7XG4gIH1cblxuICAvKipcbiAgICogQWRkIGFuIGFkZGl0aW9uYWwgc3RlcCB0byBydW4gYWZ0ZXIgYWxsIG9mIHRoZSBzdGFja3MgaW4gdGhpcyBzdGFnZVxuICAgKi9cbiAgcHVibGljIGFkZFBvc3QoLi4uc3RlcHM6IFN0ZXBbXSkge1xuICAgIHRoaXMucG9zdC5wdXNoKC4uLnN0ZXBzKTtcbiAgfVxufSJdfQ==